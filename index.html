<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>❤️ 하트 테트리스 ❤️</title>

<style>
body {
    margin: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    background-color: #36454F;
    font-family: 'Malgun Gothic', Arial, sans-serif;
}

#start-screen {
    background: #1a1a2e;
    padding: 30px;
    border: 8px solid #E0B0FF;
    border-radius: 10px;
    text-align: center;
    color: #E6E6FA;
}

#nickname-input {
    padding: 10px;
    margin: 15px 0;
    font-size: 1em;
    border-radius: 5px;
    border: none;
    text-align: center;
}

#start-button {
    padding: 10px 20px;
    font-size: 1.1em;
    background: #B57EDC;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

#start-button:hover {
    background: #9370DB;
}

#game-area {
    display: none;
    flex-direction: column;
    align-items: center;
}

#nickname-display {
    color: #E6E6FA;
    font-size: 1.2em;
    margin-bottom: 5px;
}

#score {
    color: #E6E6FA;
    font-size: 2em;
    margin-bottom: 15px;
}

#game-container {
    border: 8px solid #E0B0FF;
    background: #1a1a2e;
}

#game-board {
    display: grid;
    grid-template-columns: repeat(10, 30px);
    grid-template-rows: repeat(20, 30px);
    gap: 1px;
}

.cell {
    background: #111;
    border: 1px solid #000;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2em;
}

.T { background: #B57EDC; }
.L { background: #FFB7C5; }
.J { background: #ADD8E6; }
.I { background: #AFEEEE; }
.O { background: #FFFF99; }
.S { background: #98FB98; }
.Z { background: #FFC0CB; }

.controls {
    color: #E6E6FA;
    margin-top: 10px;
    font-size: 0.9em;
}
</style>
</head>

<body>

<div id="start-screen">
    <h1>❤️ 하트 테트리스 ❤️</h1>
    <p>닉네임을 입력하세요</p>
    <input id="nickname-input" maxlength="15">
    <br>
    <button id="start-button">게임 시작</button>
</div>

<div id="game-area">
    <div id="nickname-display"></div>
    <div id="score">점수: 0</div>

    <div id="game-container">
        <div id="game-board"></div>
    </div>

    <div class="controls">
        ← → 이동 / ↑ 회전 / ↓ 빠른 하강
    </div>
</div>

<script>
const COLS = 10;
const ROWS = 20;
const SPEED = 1500;

const boardEl = document.getElementById("game-board");
const startScreen = document.getElementById("start-screen");
const gameArea = document.getElementById("game-area");
const nicknameInput = document.getElementById("nickname-input");
const nicknameDisplay = document.getElementById("nickname-display");
const scoreEl = document.getElementById("score");

let board = [];
let cells = [];
let currentPiece;
let x = 0;
let y = 0;
let score = 0;
let timer;

const TETROMINOES = [
    {shape:[[1,1,0],[0,1,1],[0,0,0]], color:"Z"},
    {shape:[[0,1,1],[1,1,0],[0,0,0]], color:"S"},
    {shape:[[1,0,0],[1,1,1],[0,0,0]], color:"J"},
    {shape:[[0,0,1],[1,1,1],[0,0,0]], color:"L"},
    {shape:[[1,1],[1,1]], color:"O"},
    {shape:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]], color:"I"},
    {shape:[[0,1,0],[1,1,1],[0,0,0]], color:"T"}
];

function createBoard() {
    board = Array.from({length: ROWS}, () => Array(COLS).fill(0));
    boardEl.innerHTML = "";
    cells = [];

    for (let r = 0; r < ROWS; r++) {
        cells[r] = [];
        for (let c = 0; c < COLS; c++) {
