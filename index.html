<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>쉬운 난이도 테트리스</title>
    <style>
        /* 1. CSS: 스타일 */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #222;
            margin: 0;
            font-family: Arial, sans-serif;
            flex-direction: column; /* 요소를 세로로 배치 */
        }

        #score {
            color: white;
            margin-bottom: 20px; /* 게임 보드와의 간격 */
            font-size: 2em; /* 점수를 더 크게 표시 */
            font-weight: bold;
        }

        #game-container {
            border: 5px solid #555;
            background-color: #000;
            display: inline-block;
        }

        #game-board {
            /* 10칸 너비, 20칸 높이 그리드 설정 */
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(20, 1fr);
            gap: 1px;
        }

        .cell {
            width: 30px;
            height: 30px;
            background-color: #111;
            box-sizing: border-box;
            border: 1px solid #000;
        }

        /* 2. 블록 색상 클래스 */
        .T { background-color: purple; border: 1px solid #6a0080; }
        .L { background-color: orange; border: 1px solid #cc7a00; }
        .J { background-color: blue; border: 1px solid #000080; }
        .I { background-color: cyan; border: 1px solid #008080; }
        .O { background-color: yellow; border: 1px solid #808000; }
        .S { background-color: green; border: 1px solid #008000; }
        .Z { background-color: red; border: 1px solid #800000; }

        .controls {
            color: #ccc;
            margin-top: 15px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>

    <div id="score">점수: 0</div> 

    <div id="game-container">
        <div id="game-board">
            </div>
    </div>
    
    <div class="controls">
        <p>키보드: ←, → (이동), ↓ (빠른 하강)</p>
        <p style="font-size: 0.8em; color: #888;">(난이도: 블록 하강 속도 1.5초)</p>
    </div>

    <script>
        // 3. JavaScript: 로직

        // 게임 설정
        const COLS = 10;
        const ROWS = 20;
        const BOARD_ID = 'game-board';
        const boardElement = document.getElementById(BOARD_ID);
        const scoreElement = document.getElementById('score'); // 점수 요소 가져오기

        // 게임 상태 배열
        let board = Array(ROWS).fill(0).map(() => Array(COLS).fill(0));
        let cells = []; 

        // 현재 움직이는 블록
        let currentPiece;
        let currentX = 0;
        let currentY = 0;
        let score = 0;
        let gameInterval;
        
        // ** 난이도 하향 ** : 블록 하강 속도를 1500ms로 설정 (원래 1000ms)
        let speed = 1500; 

        // 테트로미노 모양 정의
        const TETROMINOES = [
            // S (0)
            { shape: [[0,1,1], [1,1,0], [0,0,0]], color: 'S' },
            // Z (1)
            { shape: [[1,1,0], [0,1,1], [0,0,0]], color: 'Z' },
            // J (2)
            { shape: [[1,0,0], [1,1,1], [0,0,0]], color: 'J' },
            // L (3)
            { shape: [[0,0,1], [1,1,1], [0,0,0]], color: 'L' },
            // I (4)
            { shape: [[0,0,0,0], [1,1,1,1], [0,0,0,0], [0,0,0,0]], color: 'I' },
            // O (5)
            { shape: [[1,1], [1,1]], color: 'O' },
            // T (6)
            { shape: [[0,1,0], [1,1,1], [0,0,0]], color: 'T' }
        ];

        // --- 1. 초기화 함수 ---

        function createBoard() {
            for (let r = 0; r < ROWS; r++) {
                cells[r] = [];
                for (let c = 0; c < COLS; c++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    boardElement.appendChild(cell);
                    cells[r][c] = cell;
                }
            }
        }
        
        // 점수 업데이트 함수 (점수 기능이 추가되면 이 함수를 호출해야 함)
        function updateScore() {
            scoreElement.textContent = `점수: ${score}`;
        }


        // --- 2. 블록 및 위치 관련 함수 ---

        // 무작위 블록 생성
        function newPiece() {
            const randomIndex = Math.floor(Math.random() * TETROMINOES.length);
            currentPiece = JSON.parse(JSON.stringify(TETROMINOES[randomIndex]));
            currentX = Math.floor(COLS / 2) - Math.floor(currentPiece.shape[0].length / 2);
            currentY = 0;
